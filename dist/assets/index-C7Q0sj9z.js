(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const l of e.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function n(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function a(t){if(t.ep)return;t.ep=!0;const e=n(t);fetch(t.href,e)}})();const f=[{delay:"0s",offset:2,variant:"pink"},{delay:"1.2s",offset:-1.5,variant:"white"},{delay:"2.4s",offset:1,variant:"yellow"}],u=Array.from({length:14},(s,o)=>({delay:`${o*.2}s`})),y=Array.from({length:6},(s,o)=>({delay:`${o*.8}s`})),m=[{left:"10%",delay:"0s"},{left:"65%",delay:"1.6s"},{left:"80%",delay:"0.8s"}],p="/birthday-song.mp3";let c=null,d=!1;const r=(s,o)=>{s&&(d=o,s.textContent=o?"Stop":"Play",s.classList.toggle("btn-stop",o),s.classList.toggle("btn-play",!o))},i=async(s,o)=>{if(s)try{await s.play(),r(o,!0)}catch{r(o,!1)}},h=(s,o)=>{s&&(s.pause(),s.currentTime=0,r(o,!1))},b=()=>{const s=document.querySelector('[data-anchor="butterflies"]'),o=document.querySelector('[data-anchor="flowers"]'),n=document.querySelector('[data-anchor="bubbles"]'),a=document.querySelector('[data-anchor="balloons"]');f.forEach(t=>{const e=document.createElement("span");e.className=`butterfly butterfly--${t.variant}`,e.style.animationDelay=t.delay,e.style.setProperty("--offset",t.offset.toString()),s?.appendChild(e)}),u.forEach(t=>{const e=document.createElement("span");e.className="flower",e.style.animationDelay=t.delay,o?.appendChild(e)}),y.forEach(t=>{const e=document.createElement("span");e.className="floating-bubble",e.style.animationDelay=t.delay,n?.appendChild(e)}),m.forEach(t=>{const e=document.createElement("span");e.className="balloon",e.style.left=t.left,e.style.animationDelay=t.delay,a?.appendChild(e)})};document.addEventListener("DOMContentLoaded",()=>{const s=document.querySelector(".splash-screen"),o=document.querySelector(".rose-shell"),n=document.getElementById("birthday-audio"),a=document.getElementById("sound-toggle");n&&(n.volume=.8,n.src=p),b(),r(a,!1);const t=()=>{s?.classList.add("hidden"),o?.classList.remove("hidden")};c=window.setTimeout(()=>{t(),i(n,a)},3200),a?.addEventListener("click",()=>{d?h(n,a):i(n,a)})});window.addEventListener("beforeunload",()=>{c&&window.clearTimeout(c)});
